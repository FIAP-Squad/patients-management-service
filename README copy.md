
# ğŸš€ Doctors Management Service

![Node.js](https://img.shields.io/badge/Node.js-14.x-brightgreen) ![TypeScript](https://img.shields.io/badge/TypeScript-4.x-blue) ![AWS Cognito](https://img.shields.io/badge/AWS%20Cognito-Enabled-yellow) ![RabbitMQ](https://img.shields.io/badge/RabbitMQ-3.8-orange) ![AmazonMQ](https://img.shields.io/badge/AmazonMQ-Enabled-red) ![SOLID](https://img.shields.io/badge/Architecture-SOLID-brightgreen) ![TDD](https://img.shields.io/badge/Test%20Coverage-100%25-green)

## ğŸ“˜ Overview

This project is a **scalable microservice** built with **Node.js** and **TypeScript**, utilizing **RabbitMQ** and **AmazonMQ** for messaging, and **AWS Cognito** for authentication. The system architecture follows **SOLID principles** and the project is developed using **Test-Driven Development (TDD)** to ensure high code quality and reliability.

### ğŸ› ï¸ Key Technologies:
- **Node.js** 14.x
- **TypeScript** 4.x
- **RabbitMQ** and **AmazonMQ** for message brokering
- **AWS Cognito** for user authentication
- **SOLID** architecture
- **TDD** with unit and integration tests

---

****

## ğŸ“‚ Project Details

```bash
â”œâ”€â”€ .github/                # GitHub-specific configurations (e.g., actions, issue templates)
â”œâ”€â”€ .husky/                 # Husky pre-commit hooks configuration
â”œâ”€â”€ coverage/               # Coverage reports generated by tests
â”œâ”€â”€ dist/                   # Compiled TypeScript files
â”œâ”€â”€ node_modules/           # Installed Node.js dependencies (auto-generated by npm or yarn)
â”œâ”€â”€ prisma/                 # Prisma ORM schema and related files
â”œâ”€â”€ src/                    # Application source code
â”‚   â”œâ”€â”€ domain/             # Domain entities and business logic
â”‚   â”œâ”€â”€ infrastructure/     # Application infrastructure (controllers, repositories, gateways, etc.)
â”‚   â”‚   â”œâ”€â”€ controllers/    # Handle HTTP requests and delegate to use cases
â”‚   â”‚   â”œâ”€â”€ DAOs/           # Data Access Objects for database interactions
â”‚   â”‚   â”œâ”€â”€ errors/         # Custom error handling and error types
â”‚   â”‚   â”œâ”€â”€ gateways/       # Integration with external systems (APIs, message brokers)
â”‚   â”‚   â”œâ”€â”€ handlers/       # Event or request handlers
â”‚   â”‚   â”œâ”€â”€ helpers/        # Utility functions and helpers
â”‚   â”‚   â”œâ”€â”€ middlewares/    # Middleware functions for request processing (auth, validation)
â”‚   â”‚   â”œâ”€â”€ presenters/     # Formatting responses to be sent back to clients
â”‚   â”‚   â”œâ”€â”€ repositories/   # Repositories interacting with DAOs
â”‚   â”‚   â”œâ”€â”€ validations/    # Input validation logic
â”‚   â”‚   â””â”€â”€ index.ts        # Entry point to aggregate and export infrastructure components
â”‚   â”œâ”€â”€ main/               # Application entry point and core settings
â”‚   â”‚   â”œâ”€â”€ adapters/       # Interfaces that connect the infrastructure with use cases
â”‚   â”‚   â”œâ”€â”€ config/         # Application configuration (e.g., environment variables, setup)
â”‚   â”‚   â”œâ”€â”€ decorators/     # Function or class decorators for reusability (e.g., logging, caching)
â”‚   â”‚   â”œâ”€â”€ factories/      # Factory classes for creating objects (following Factory pattern)
â”‚   â”‚   â”œâ”€â”€ middlewares/    # Core middlewares used across the app
â”‚   â”‚   â”œâ”€â”€ routes/         # Route definitions (HTTP endpoints)
â”‚   â”‚   â””â”€â”€ server.ts       # Main server setup and bootstrap logic
â”‚   â”œâ”€â”€ usecases/           # Business logic and application rules
â”‚   â””â”€â”€ server.ts           # Server entry point
â”œâ”€â”€ tests/                  # Unit and integration test cases
â”œâ”€â”€ .dockerignore           # Files and folders to ignore when creating a Docker image
â”œâ”€â”€ .env                    # Environment variables (e.g., secrets, database credentials)
â”œâ”€â”€ .env.example            # Example environment variable file for reference
â”œâ”€â”€ .eslintrc.json          # ESLint configuration file for linting JavaScript/TypeScript code
â”œâ”€â”€ .gitignore              # Git configuration to ignore specific files and folders
â”œâ”€â”€ .huskyrc.json           # Husky configuration file
â”œâ”€â”€ .lintstagedrc.json      # Configuration for lint-staged to run linters on staged files
â”œâ”€â”€ .sonar-project.properties # SonarQube configuration for code quality and static analysis
â”œâ”€â”€ CHANGELOG.md            # Changelog for tracking version changes and updates
â”œâ”€â”€ Dockerfile              # Docker configuration for containerizing the application
â”œâ”€â”€ Dockerfile.prd          # Dockerfile specific to the production build
â”œâ”€â”€ jest-unit-config.js     # Jest configuration for unit testing
â”œâ”€â”€ jest.config.js          # General Jest configuration for testing
â”œâ”€â”€ LICENSE                 # License information for the project
â”œâ”€â”€ package-lock.json       # Auto-generated file that locks the dependency versions
â”œâ”€â”€ package.json            # Node.js project metadata and dependencies
â”œâ”€â”€ README.md               # Project documentation
â”œâ”€â”€ start.sh                # Shell script to start the application
â”œâ”€â”€ tsconfig-build.json     # TypeScript configuration specific to the build process
â”œâ”€â”€ tsconfig.json           # General TypeScript configuration file


```

---

## ğŸŒ Prerequisites

```bash
- Node.js 14.x or higher
- Docker (for running RabbitMQ locally)
- Prisma MYSQL (for entities)
- MONGODB Drive (for logs)
- AmazonMQ setup for message brokering
```

---

## ğŸš€ Getting Started

### 1. Clone the repository:
```bash
git clone git@github.com:FIAP-Squad/doctors-management-service.git
cd yourproject
```

### 2. Install dependencies:
```bash
npm install
```

### 3. Set up environment variables:
Create a `.env` file with the following variables:
```bash
PORT=
RABBITMQ_PROTOCOL=
RABBITMQ_HOST_NAME=
RABBITMQ_PORT=
RABBITMQ_USERNAME=
RABBITMQ_PASSWORD=
MYSQL_URL=
MONGODB_URL=
MONGODB_DATABASE=

```

### 4. Run RabbitMQ locally with Docker two layers before (../):
```bash
docker-compose up -- build
```

---

## ğŸ§ª Testing

This project is developed using **TDD** (Test-Driven Development). All tests are written using **Jest** and can be run with the following command:

```bash
npm run test
```

To check test coverage:
```bash
npm run test:coverage
```

---

## âš™ï¸ Key Features

- **SOLID Architecture**: Designed with SOLID principles for scalability and maintainability.
- **TDD**: Developed using Test-Driven Development to ensure robustness and minimal bugs.
- **AWS Cognito Integration**: Fully integrated authentication and user management with AWS Cognito.
- **RabbitMQ and AmazonMQ Messaging**: Efficient message handling using RabbitMQ for local dev and AmazonMQ for production.
- **TypeScript**: Strongly typed codebase with TypeScript for better development experience and fewer runtime errors.

---

## ğŸ“– Architecture Principles

### SOLID Principles:
- **Single Responsibility Principle**: Each class and module has one well-defined responsibility.
- **Open/Closed Principle**: The system is open for extension but closed for modification.
- **Liskov Substitution Principle**: Derived classes can be substituted for their base class.
- **Interface Segregation Principle**: Clients should not be forced to depend on interfaces they do not use.
- **Dependency Inversion Principle**: High-level modules depend on abstractions, not on concrete implementations.

---

## ğŸ“¦ Deployment

The project can be deployed using Docker. The `Dockerfile` is already configured for the application.

For production, you can integrate with AWS services like ECS, ECR, and AmazonMQ.

---

## ğŸ‘¨â€ğŸ’» Contributing

We welcome contributions! Please follow these steps:

1. Fork the repository
2. Create a new branch (`git checkout -b feature/my-new-feature`)
3. Commit your changes (`git commit -m 'Add some feature'`)
4. Push to the branch (`git push origin feature/my-new-feature`)
5. Create a new Pull Request to qa

---

## ğŸ”— Useful Links

- [Node.js Documentation](https://nodejs.org/en/docs/)
- [TypeScript Documentation](https://www.typescriptlang.org/docs/)
- [RabbitMQ Documentation](https://www.rabbitmq.com/documentation.html)
- [AWS Cognito Documentation](https://docs.aws.amazon.com/cognito/latest/developerguide/what-is-amazon-cognito.html)
- [AmazonMQ Documentation](https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/welcome.html)

---

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
